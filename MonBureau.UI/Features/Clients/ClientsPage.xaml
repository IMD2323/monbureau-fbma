<!--
    ============================================================
    ClientsPage.xaml - OPTIMIZED (120 lines → 50 lines)
    ============================================================
-->
<Page
    x:Class="MonBureau.UI.Features.Clients.ClientsPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    Background="{StaticResource BackgroundBrush}">

    <Grid Margin="32">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>

        <!--  Loading Overlay  -->
        <Control Grid.RowSpan="4" Template="{StaticResource LoadingOverlayTemplate}" />

        <!--  Page Header  -->
        <Control
            Grid.Row="0"
            DataContext="{Binding}"
            Template="{StaticResource PageHeaderTemplate}" />

        <!--  Search Bar  -->
        <Control Grid.Row="1" Template="{StaticResource SearchBarTemplate}" />

        <!--  Clients DataGrid  -->
        <Border
            Grid.Row="2"
            Style="{StaticResource Card}"
            Visibility="{Binding Items.Count, Converter={StaticResource BoolToVis}}">
            <DataGrid
                AutoGenerateColumns="False"
                BorderThickness="0"
                CanUserAddRows="False"
                GridLinesVisibility="None"
                ItemsSource="{Binding Items}"
                RowHeight="60"
                SelectedItem="{Binding SelectedItem}">
                <DataGrid.Columns>
                    <DataGridTextColumn
                        Width="*"
                        Binding="{Binding FullName}"
                        Header="Nom Complet">
                        <DataGridTextColumn.ElementStyle>
                            <Style TargetType="TextBlock">
                                <Setter Property="FontWeight" Value="Medium" />
                                <Setter Property="FontSize" Value="14" />
                            </Style>
                        </DataGridTextColumn.ElementStyle>
                    </DataGridTextColumn>

                    <DataGridTextColumn
                        Width="*"
                        Binding="{Binding ContactEmail}"
                        Header="Email" />

                    <DataGridTextColumn
                        Width="150"
                        Binding="{Binding ContactPhone}"
                        Header="Téléphone" />

                    <DataGridTemplateColumn Width="150" Header="Actions">
                        <DataGridTemplateColumn.CellTemplate>
                            <DataTemplate>
                                <ContentControl Content="{Binding}" ContentTemplate="{StaticResource ActionButtonsTemplate}" />
                            </DataTemplate>
                        </DataGridTemplateColumn.CellTemplate>
                    </DataGridTemplateColumn>
                </DataGrid.Columns>
            </DataGrid>
        </Border>

        <!--  Empty State  -->
        <Control Grid.Row="2" Template="{StaticResource EmptyStateTemplate}" />

        <!--  Pagination  -->
        <Control Grid.Row="3" Template="{StaticResource PaginationTemplate}" />
    </Grid>
</Page>